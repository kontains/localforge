<div id="main-panel">
    <div id="chat-header">
        <div class="chat-info">
            <span id="project-name"></span>
            <span class="separator">•</span>
            <span id="session-name"></span>
        </div>
        <div class="chat-buttons">
            <select id="agent-selector" class="agent-selector">
                <option value="">Select Agent</option>
                <!-- Options will be populated dynamically -->
            </select>
            <button id="show-context-button" class="secondary-button">
                <span class="material-icons">subject</span>
                Show Context
            </button>
            <button id="clear-chat-button" class="secondary-button">
                <span class="material-icons">delete_sweep</span>
                Clear Chat
            </button>
            <button id="stop-button" class="secondary-button danger-button" style="display: none;">
                <span class="material-icons">stop</span>
                Stop
            </button>
        </div>
    </div>
    <div id="chat-container">
        <div id="messages"></div>
    </div>
    <div id="footer-drag-handle">
        <div class="handle-icon">
            <span class="material-icons">drag_handle</span>
        </div>
    </div>
    <footer>
        <form id="message-form">
            <div class="prompt-container">
                <div id="prompt-editor-container" class="prompt-editor-container"></div>
                <div class="prompt-toolbar">
                    <div class="prompt-toolbar-left">
                        <span class="attachments-icon material-icons" id="attachment-button">attach_file</span>
                        <span id="attached-filename" class="attached-filename"></span>
                        <!-- Hidden file input for images -->
                        <input type="file" id="file-input" accept="image/*" style="display:none" />
                    </div>
                    <div class="prompt-toolbar-right">
                        <span class="prompt-label">⌘+ENTER</span>
                        <button type="submit" id="send-button" class="toolbar-send-button" disabled>Send</button>
                    </div>
                </div>
            </div>
        </form>
    </footer>
</div>